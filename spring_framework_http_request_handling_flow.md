# 스프링 프레임워크 내에서 HTTP 요청이 처리되는 과정

<br /><br />

```
웹 애플리케이션에서 클라이언트의 요청이 서버에 도착해서 최종적으로
응답을 보내기까지의 다양한 단계와 컴포넌트를 확인해보자.
```

<br /><br /><br />

1. Servlet Request

```
클라이언트(브라우저)로부터의 HTTP 요청을 말한다.
(물론, 브라우저뿐만 아니라 여러 가지 방법으로 HTTP 요청을 할 수 있다.)
```

<br /><br /><br />

2. Filter

```
Request 요청이 Dispatcher Servlet에 도달하기 전에 필터링 작업을 수행하는 컴포넌트.
주로 보안, 로깅, 인증 등의 작업을 한다.

* doFilter -> 필터를 사용하여 필터링 작업을 수행하는 메서드.
```

<br /><br /><br />

3. Dispatcher Servlet

```
스프링 MVC의 핵심으로,
클라이언트 요청을 적절한 핸들러(컨트롤러)로 전달한다.

(이 과정에서도 많은 부분이 있지만 여기서는 생략)
```

<br /><br /><br />

4. Interceptor

```
요청을 처리하는 전후에 추가적인 처리를 할 수 있는 컴포넌트.

* preHandler -> 컨트롤러로 요청이 가기 전에 실행.

* postHandler -> 컨트롤러가 요청을 처리한 후, 뷰를 렌더링하기 전에 실행.

* afterCompletion -> 요청이 완전히 완료된 후 실행.
```

<br /><br /><br />

5. AOP (Aspect-Oriented Programming)

```
횡단 관심사(예: 로깅, 트랜잭션 관리 등)를 모듈화하는 데 사용된다.
AOP는 다양한 어드바이스(Advice)를 통해 동작한다.

@Before: 특정 메서드가 실행되기 전에 실행.
@After: 특정 메서드가 실행된 후에 실행.
@Around: 특정 메서드의 실행 전후 또는 대신 실행.
```

<br /><br /><br />

6. Controller

```
스프링 MVC의 핵심으로,
위에 과정을 전부 처리한 후
최종적으로 요청에 매핑되는 컨트롤러가
작동되고 이후 여러 가지 레이어들과
맞물려 요청에 대해 응답을 한다.
```

<br /><br />

```
────────────────────────────────────────────────────────────────────────────────────────────────────────
|                                   <--------------------------- 스프링 영역 -------------------------> |                                  
| ┌──────────┐    ┌────────────┐    ┌────────────┐    ┌───────────────┐     ┌─────┐     ┌────────────┐ |
| | Servlet  |    |            |    |            |    |               |     |     |     |            | |
| | Request  | -> |            |    |            |    |               |     |     |     |            | |     
| | (Client) |    | (dofilter) |    |            |    |               |     |     |     |            | |
| └──────────┘    | Filter     |    | Dispatcher |    | (preHandler)  |     | AOP |     | Controller | |               
| ┌──────────┐    | (dofilter) |    | Servlet    |    | Interceptor   |     |     |     |            | |
| | Servlet  |    |            |    |            |    | (postHandler) |     |     |     |            | |
| | Pesponse | <- |            |    |            |    |               |     |     |     |            | |     
| | (Client) |    |            |    |            |    |               |     |     |     |            | |
| └──────────┘    └────────────┘    └────────────┘    └───────────────┘     └─────┘     └────────────┘ |
|                                                                                                      |
────────────────────────────────────────────────────────────────────────────────────────────────────────
```
